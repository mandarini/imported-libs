{"ast":null,"code":"\"use strict\";\n\nvar __decorate = this && this.__decorate || function (decorators, target, key, desc) {\n  var c = arguments.length,\n    r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc,\n    d;\n  if (typeof Reflect === \"object\" && typeof Reflect.decorate === \"function\") r = Reflect.decorate(decorators, target, key, desc);else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;\n  return c > 3 && r && Object.defineProperty(target, key, r), r;\n};\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.createStorybookModule = exports.getStorybookModuleMetadata = void 0;\nconst core_1 = require(\"@angular/core\");\nconst platform_browser_1 = require(\"@angular/platform-browser\");\nconst StorybookProvider_1 = require(\"./StorybookProvider\");\nconst NgModulesAnalyzer_1 = require(\"./utils/NgModulesAnalyzer\");\nconst NgComponentAnalyzer_1 = require(\"./utils/NgComponentAnalyzer\");\nconst StorybookWrapperComponent_1 = require(\"./StorybookWrapperComponent\");\nconst ComputesTemplateFromComponent_1 = require(\"./ComputesTemplateFromComponent\");\nconst getStorybookModuleMetadata = ({\n  storyFnAngular,\n  component,\n  targetSelector\n}, storyProps$) => {\n  const {\n    props,\n    styles,\n    moduleMetadata = {}\n  } = storyFnAngular;\n  let {\n    template\n  } = storyFnAngular;\n  const hasTemplate = !hasNoTemplate(template);\n  if (!hasTemplate && component) {\n    template = (0, ComputesTemplateFromComponent_1.computesTemplateFromComponent)(component, props, '');\n  }\n  /**\n   * Create a component that wraps generated template and gives it props\n   */\n  const ComponentToInject = (0, StorybookWrapperComponent_1.createStorybookWrapperComponent)(targetSelector, template, component, styles, props);\n  const isStandalone = (0, NgComponentAnalyzer_1.isStandaloneComponent)(component);\n  // Look recursively (deep) if the component is not already declared by an import module\n  const requiresComponentDeclaration = (0, NgComponentAnalyzer_1.isDeclarable)(component) && !(0, NgModulesAnalyzer_1.isComponentAlreadyDeclaredInModules)(component, moduleMetadata.declarations, moduleMetadata.imports) && !isStandalone;\n  return {\n    declarations: [...(requiresComponentDeclaration ? [component] : []), ComponentToInject, ...(moduleMetadata.declarations ?? [])],\n    imports: [platform_browser_1.BrowserModule, ...(isStandalone ? [component] : []), ...(moduleMetadata.imports ?? [])],\n    providers: [(0, StorybookProvider_1.storyPropsProvider)(storyProps$), ...(moduleMetadata.providers ?? [])],\n    entryComponents: [...(moduleMetadata.entryComponents ?? [])],\n    schemas: [...(moduleMetadata.schemas ?? [])],\n    bootstrap: [ComponentToInject]\n  };\n};\nexports.getStorybookModuleMetadata = getStorybookModuleMetadata;\nconst createStorybookModule = ngModule => {\n  let StorybookModule = class StorybookModule {};\n  StorybookModule = __decorate([(0, core_1.NgModule)(ngModule)], StorybookModule);\n  return StorybookModule;\n};\nexports.createStorybookModule = createStorybookModule;\nfunction hasNoTemplate(template) {\n  return template === null || template === undefined;\n}","map":{"version":3,"names":["__decorate","decorators","target","key","desc","c","arguments","length","r","Object","getOwnPropertyDescriptor","d","Reflect","decorate","i","defineProperty","exports","value","createStorybookModule","getStorybookModuleMetadata","core_1","require","platform_browser_1","StorybookProvider_1","NgModulesAnalyzer_1","NgComponentAnalyzer_1","StorybookWrapperComponent_1","ComputesTemplateFromComponent_1","storyFnAngular","component","targetSelector","storyProps$","props","styles","moduleMetadata","template","hasTemplate","hasNoTemplate","computesTemplateFromComponent","ComponentToInject","createStorybookWrapperComponent","isStandalone","isStandaloneComponent","requiresComponentDeclaration","isDeclarable","isComponentAlreadyDeclaredInModules","declarations","imports","BrowserModule","providers","storyPropsProvider","entryComponents","schemas","bootstrap","ngModule","StorybookModule","NgModule","undefined"],"sources":["/Users/katerina/Projects/nrwl/test_nx_workspaces/imported-libs/node_modules/@storybook/angular/dist/client/angular-beta/StorybookModule.js"],"sourcesContent":["\"use strict\";\nvar __decorate = (this && this.__decorate) || function (decorators, target, key, desc) {\n    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;\n    if (typeof Reflect === \"object\" && typeof Reflect.decorate === \"function\") r = Reflect.decorate(decorators, target, key, desc);\n    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;\n    return c > 3 && r && Object.defineProperty(target, key, r), r;\n};\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.createStorybookModule = exports.getStorybookModuleMetadata = void 0;\nconst core_1 = require(\"@angular/core\");\nconst platform_browser_1 = require(\"@angular/platform-browser\");\nconst StorybookProvider_1 = require(\"./StorybookProvider\");\nconst NgModulesAnalyzer_1 = require(\"./utils/NgModulesAnalyzer\");\nconst NgComponentAnalyzer_1 = require(\"./utils/NgComponentAnalyzer\");\nconst StorybookWrapperComponent_1 = require(\"./StorybookWrapperComponent\");\nconst ComputesTemplateFromComponent_1 = require(\"./ComputesTemplateFromComponent\");\nconst getStorybookModuleMetadata = ({ storyFnAngular, component, targetSelector, }, storyProps$) => {\n    const { props, styles, moduleMetadata = {} } = storyFnAngular;\n    let { template } = storyFnAngular;\n    const hasTemplate = !hasNoTemplate(template);\n    if (!hasTemplate && component) {\n        template = (0, ComputesTemplateFromComponent_1.computesTemplateFromComponent)(component, props, '');\n    }\n    /**\n     * Create a component that wraps generated template and gives it props\n     */\n    const ComponentToInject = (0, StorybookWrapperComponent_1.createStorybookWrapperComponent)(targetSelector, template, component, styles, props);\n    const isStandalone = (0, NgComponentAnalyzer_1.isStandaloneComponent)(component);\n    // Look recursively (deep) if the component is not already declared by an import module\n    const requiresComponentDeclaration = (0, NgComponentAnalyzer_1.isDeclarable)(component) &&\n        !(0, NgModulesAnalyzer_1.isComponentAlreadyDeclaredInModules)(component, moduleMetadata.declarations, moduleMetadata.imports) &&\n        !isStandalone;\n    return {\n        declarations: [\n            ...(requiresComponentDeclaration ? [component] : []),\n            ComponentToInject,\n            ...(moduleMetadata.declarations ?? []),\n        ],\n        imports: [\n            platform_browser_1.BrowserModule,\n            ...(isStandalone ? [component] : []),\n            ...(moduleMetadata.imports ?? []),\n        ],\n        providers: [(0, StorybookProvider_1.storyPropsProvider)(storyProps$), ...(moduleMetadata.providers ?? [])],\n        entryComponents: [...(moduleMetadata.entryComponents ?? [])],\n        schemas: [...(moduleMetadata.schemas ?? [])],\n        bootstrap: [ComponentToInject],\n    };\n};\nexports.getStorybookModuleMetadata = getStorybookModuleMetadata;\nconst createStorybookModule = (ngModule) => {\n    let StorybookModule = class StorybookModule {\n    };\n    StorybookModule = __decorate([\n        (0, core_1.NgModule)(ngModule)\n    ], StorybookModule);\n    return StorybookModule;\n};\nexports.createStorybookModule = createStorybookModule;\nfunction hasNoTemplate(template) {\n    return template === null || template === undefined;\n}\n"],"mappings":"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"},"metadata":{},"sourceType":"script","externalDependencies":[]}